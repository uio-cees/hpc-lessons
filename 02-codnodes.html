<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: Using the CEES HPC resources</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <a href="index.html"><h1 class="title">Using the CEES HPC resources</h1></a>
          <h2 class="subtitle">Using the cod nodes</h2>
          <section class="objectives panel panel-warning">
<div class="panel-heading">
<h2 id="learning-objectives"><span class="glyphicon glyphicon-certificate"></span>Learning Objectives</h2>
</div>
<div class="panel-body">
<ul>
<li>Log in to the cod nodes, check who is running jobs on it and how busy the node is</li>
<li>Reserve the node for use</li>
<li>Run a simple job on the node and follow its progress</li>
<li>Start long-running jobs</li>
<li>Follow progress of jobs and cancel them</li>
</ul>
</div>
</section>
<p>Open your terminal program and write - replacing <code>username</code> with your UiO username:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">ssh</span> username@cod5.hpc.uio.no</code></pre>
<p>This should show something like this:</p>
<pre class="output"><code>Last login: Wed Sep  9 12:44:45 2015 from bioxxxxx.uio.no
  Research Computing Services, University of Oslo - ABEL
  Info: http://hpc.uio.no/    Help: hpc-drift@usit.uio.no
                           ,__
                           |  `&#39;.
        __           |`-._/_.:---`-.._
        \=&#39;.       _/..--&#39;`__         `&#39;-._
         \- &#39;-.--&quot;`      ===        /   o  `&#39;,
          )= (                 .--_ |       _.&#39;
         /_=.&#39;-._             {=_-_ |   .--`-.
        /_.&#39;    `\`&#39;-._        &#39;-=   \    _.&#39;5
                 )  _.-&#39;`&#39;-..       _..-&#39;`
                /_.&#39;        `/&quot;;&#39;;`|
                             \` .&#39;/
                              &#39;--&#39;

                     Welcome to cod5
</code></pre>
<p>Enjoy the ASCII fish, courtesy of USIT!</p>
<aside class="callout panel panel-info">
<div class="panel-heading">
<h2 id="callout-box"><span class="glyphicon glyphicon-pushpin"></span>Callout Box</h2>
</div>
<div class="panel-body">
<p>If you logged in on the computer you run this command using the same username as on abel, you can skip the username: <code>ssh cod5.hpc.uio.no</code>. While for abel, you can skip the uio.no part when you are on the UiO network, unfortunately, with the cod nodes, you will always have to write the <code>hpc.uio.no</code> part.</p>
</div>
</aside>
<p>We are going to use a small script that writes some simple output to the screen, and allows us to control how long it runs. In an appropriate folder (e.g., your home folder), make a file called <code>rounds.sh</code> with the following text:</p>
<pre><code>stop=$1
seconds=$2
for i in $(seq 1 $stop)
    do
    echo round $i of $stop
    sleep $seconds
done</code></pre>
<p>This script will sleep (unix <code>sleep</code> command) a user-defined amount of times (variable <code>stop</code>) for a user-defined amount of seconds (variable <code>seconds</code>).</p>
<p>Now make the script executable:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">chmod</span> u+x rounds.sh</code></pre>
<p>And try it out:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">./rounds.sh</span> 3 2</code></pre>
<pre class="output"><code>round 1 of 3
round 2 of 3
round 3 of 3</code></pre>
<p>Here the script ran 3 <code>sleep</code> commands, which each took 2 seconds.</p>
<section class="challenge panel panel-success">
<div class="panel-heading">
<h2 id="exercise"><span class="glyphicon glyphicon-pencil"></span>Exercise</h2>
</div>
<div class="panel-body">
<p>Run the script a few times using different settings for the number of rounds and seconds. If the script takes very long, cancel it using <code>ctrl-c</code></p>
</div>
</section>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="wiki.uio.no/mn/bio/cees-bioinf/index.php/Main_Page">Wiki</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="http://software-carpentry.org/v5/js/jquery-1.9.1.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
  </body>
</html>
