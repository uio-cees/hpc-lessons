<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="generator" content="pandoc">
    <title>Software Carpentry: Software use</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/bootstrap/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="css/swc.css" />
    <link rel="alternate" type="application/rss+xml" title="Software Carpentry Blog" href="http://software-carpentry.org/feed.xml"/>
    <meta charset="UTF-8" />
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body class="lesson">
    <div class="container card">
      <div class="banner">
        <a href="http://software-carpentry.org" title="Software Carpentry">
          <img alt="Software Carpentry banner" src="img/software-carpentry-banner.png" />
        </a>
      </div>
      <article>
      <div class="row">
        <div class="col-md-10 col-md-offset-1">
                    <a href="index.html"><h1 class="title">Software use</h1></a>
          <h2 class="subtitle">Copying, moving and getting data</h2>
          <section class="objectives panel panel-warning">
<div class="panel-heading">
<h2 id="learning-objectives"><span class="glyphicon glyphicon-certificate"></span>Learning Objectives</h2>
</div>
<div class="panel-body">
<ul>
<li>Copying files between servers and network discs</li>
<li>Accessing files on your PC</li>
<li>Moving files</li>
<li>Downloading large files from the internet</li>
<li>Compressing files</li>
</ul>
</div>
</section>
<ul>
<li><code>cp</code>, <code>mv</code> versus <code>rsync</code></li>
<li><code>wget</code> <code>curl</code></li>
<li><code>sshfs</code></li>
<li><code>gzip</code>, <code>tar</code>, <code>pbzip2</code></li>
</ul>
<p>Log into abel and <code>cd</code> into the folder <strong>151102_cees-hpc_LLT/</strong>. Make a directory called <strong>temp</strong> and enter the folder.</p>
<pre><code>mkdir temp</code></pre>
<p>In <strong>temp</strong>, create a file called <em>data.txt</em> using <code>nano</code> and write some random text.</p>
<pre><code>nano data.txt</code></pre>
<p>To quit nano do <code>ctrl + x</code>, choose “Yes” (<code>y</code>) and press enter.</p>
<h3 id="movingrenaming-files-using-mv">Moving/renaming files using ‘mv’</h3>
<p><code>mv</code> is used to move or rename files. The first parameter given <code>mv</code> points to the file of interest. The second parameter points to where the file is going and what it should be named. If no name is given the file keeps it current name.</p>
<p>Move <em>data.txt</em> from <strong>temp</strong> to the <strong>velvet</strong> folder.</p>
<pre><code>mv data.txt ../velvet/</code></pre>
<p>Check if the file is located in the velvet folder</p>
<pre><code>ls ../velvet/</code></pre>
<p>Now, move the file back, renaming it to <em>results.txt</em>.</p>
<pre><code>mv ../velvet/data.txt results.txt</code></pre>
<p><code>..</code> points to one step up from your current directory.</p>
<p>NB! <code>mv</code> will overwrite a file with the same name (without warning). If <code>mv -i</code> is used, the user is asked for confirmation.</p>
<h3 id="copying-files-using-cp">Copying files using ‘cp’</h3>
<p>First, make a new file called data.txt, using nano like before.</p>
<p>Try to make a copy of the file using <code>cp</code>, renaming the copy in the process.</p>
<pre><code>cp data.txt copy1.txt</code></pre>
<p>If you do not rename, you will get this error:</p>
<pre><code>cp: `data.txt and `data.txt&#39; are the same file</code></pre>
<p>Repeat the process to get three copies of <em>data.txt</em> (<em>copy1.txt</em>, <em>copy2.txt</em> etc.)</p>
<p>Now, make a folder called <strong>junk</strong> inside the <strong>temp</strong> folder and copy all the copies except the original to the copies folder.</p>
<pre><code>cp copy1.txt copy2.txt copy3.txt junk/</code></pre>
<p><code>cp</code> can take thousands of files as input, but the last parameter given will be the path of the copies.</p>
<p>All the copies are still in the <strong>temp</strong> folder, so we should probably have used the <code>mv</code> command instead of <code>cp</code>.</p>
<p>Move all the copies into the junk/ folder, using the -i command.</p>
<pre><code>mv -i copy* junk</code></pre>
<pre><code>mv: overwrite `junk/copy1.txt&#39;?</code></pre>
<p>Press <code>y</code> and <code>enter</code> to overwrite the files.</p>
<h3 id="copying-files-using-rsync">Copying files using ‘rsync’</h3>
<p><code>rsync</code>is another way you may copy files from their source to a new destination. Unlike <code>cp</code>and <code>mv</code>, the <code>rsync</code> command allows you to copy files from abel or from the cod nodes to your local drive and vice versa.</p>
<p>The syntax is basically</p>
<pre><code>rsync source destination</code></pre>
<p>Copy the content of the <strong>temp</strong> folder to your local drive (open a new terminal window and do <code>pwd</code> to see where you are).</p>
<pre><code>rsync username@abel.uio.no:/151102_cees-hpc_LLT/temp/* .</code></pre>
<p>Did you get all the files? Since there is a folder inside the <strong>temp</strong> folder, <code>rsync -r</code> need to be used. The ‘-r’ stands for recursive. Repeat the command with the -r option.</p>
<p>Try to copy the <strong>junk</strong> folder back to abel and follow the progress.</p>
<pre><code>rsync -r --progress junk/ username@abel.uio.no:/151102_cees-hpc_LLT/temp/</code></pre>
        </div>
      </div>
      </article>
      <div class="footer">
        <a class="label swc-blue-bg" href="wiki.uio.no/mn/bio/cees-bioinf/index.php/Main_Page">Wiki</a>
        <a class="label swc-blue-bg" href="https://github.com/swcarpentry/lesson-template">Source</a>
        <a class="label swc-blue-bg" href="LICENSE.html">License</a>
      </div>
    </div>
    <!-- Javascript placed at the end of the document so the pages load faster -->
    <script src="http://software-carpentry.org/v5/js/jquery-1.9.1.min.js"></script>
    <script src="css/bootstrap/bootstrap-js/bootstrap.js"></script>
  </body>
</html>
